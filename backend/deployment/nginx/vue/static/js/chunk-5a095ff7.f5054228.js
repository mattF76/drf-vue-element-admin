(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5a095ff7"],{"0feb":function(e,t,i){"use strict";i.d(t,"c",(function(){return o})),i.d(t,"b",(function(){return a})),i.d(t,"a",(function(){return r})),i.d(t,"d",(function(){return l}));var n=i("b775");function o(e,t){return Object(n["a"])({url:"/api/user/permission/list",method:"post",params:e,data:t})}function a(e){return Object(n["a"])({url:"/api/user/permission/del",method:"post",data:e})}function r(e){return Object(n["a"])({url:"/api/user/permission/add",method:"post",data:e})}function l(e){return Object(n["a"])({url:"/api/user/permission/update",method:"post",data:e})}},"4bf9":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("el-card",[i("el-form",{staticClass:"demo-form-inline",staticStyle:{"text-align":"left"},attrs:{inline:!0,model:e.queryForm}},[i("el-form-item",{attrs:{label:"权限名"}},[i("el-input",{attrs:{placeholder:"权限名"},model:{value:e.queryForm.permissionName,callback:function(t){e.$set(e.queryForm,"permissionName",t)},expression:"queryForm.permissionName"}})],1),i("el-form-item",{attrs:{label:"权限api"}},[i("el-input",{attrs:{placeholder:"权限api"},model:{value:e.queryForm.permissionAPI,callback:function(t){e.$set(e.queryForm,"permissionAPI",t)},expression:"queryForm.permissionAPI"}})],1),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:e.handleQueryFormQuery}},[e._v("查询")]),i("el-button",{attrs:{type:"info"},on:{click:e.handleQueryFormReset}},[e._v("重置")])],1)],1),i("el-row",{staticStyle:{"text-align":"left"}},[i("el-button",{attrs:{type:"primary"},on:{click:e.handleButtonGroupAdd}},[e._v("新增")]),i("el-button",{attrs:{type:"primary"},on:{click:e.handleButtonGroupDelete}},[e._v("删除")])],1),i("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.table,"tooltip-effect":"dark"},on:{"selection-change":e.handleTableSelectionChange}},[i("el-table-column",{attrs:{type:"selection"}}),i("el-table-column",{attrs:{prop:"id",label:"ID"}}),i("el-table-column",{attrs:{prop:"permissionName",label:"权限名"}}),i("el-table-column",{attrs:{prop:"permissionAPI",label:"权限API"}}),i("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(i){return e.handleTableEdit(t.$index,t.row)}}},[e._v("编辑")]),i("el-button",{attrs:{size:"mini"},on:{click:function(i){return e.handleTableDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),i("el-row",{staticStyle:{"text-align":"left"}},[i("el-pagination",{attrs:{"current-page":e.pagination.currentPage,"page-sizes":[10,20,50,100],"page-size":e.pagination.pageSize,layout:"total, sizes, prev, pager, next",total:e.pagination.total,background:e.background},on:{"size-change":e.handlePaginationSizeChange,"current-change":e.handlePaginationCurrentChange}})],1),i("el-drawer",{ref:"drawer",attrs:{title:e.drawer.title,"before-close":e.handleDrawerClose,visible:e.drawer.isShow,direction:"rtl","custom-class":"demo-drawer"},on:{"update:visible":function(t){return e.$set(e.drawer,"isShow",t)}}},[i("div",{staticClass:"demo-drawer__content"},[i("el-form",{attrs:{model:e.dialogForm,"label-width":e.dialogForm.labelWidth,"label-position":e.dialogForm.labelPosition}},[i("el-form-item",{attrs:{label:"权限名"}},[i("el-input",{model:{value:e.dialogForm.permissionName,callback:function(t){e.$set(e.dialogForm,"permissionName",t)},expression:"dialogForm.permissionName"}})],1),i("el-form-item",{attrs:{label:"权限api"}},[i("el-input",{model:{value:e.dialogForm.permissionAPI,callback:function(t){e.$set(e.dialogForm,"permissionAPI",t)},expression:"dialogForm.permissionAPI"}})],1)],1),i("div",{staticClass:"demo-drawer__footer"},[i("el-button",{on:{click:e.handleDialogFormCancel}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.handleDialogFormSave}},[e._v("保存")])],1)],1)])],1)],1)},o=[],a=i("0feb"),r={name:"permissionUser",data:function(){return{queryForm:{permissionName:"",permissionAPI:""},table:[{id:"1",permissionAPI:"/api/test",permissionName:"test"}],multipleSelection:[],pagination:{currentPage:1,pageSize:10,total:0},drawer:{title:"",isShow:!1},dialogForm:{labelWidth:"100px",labelPosition:"right",id:"",permissionName:"",permissionAPI:""},background:!0}},methods:{handleQueryFormQuery:function(){var e=this;Object(a["c"])(e.pagination,e.queryForm).then((function(t){2e4===t.code&&(e.pagination.total=t.data.total,e.table=t.data.items)})).catch((function(e){console.log(e)}))},handleQueryFormReset:function(){var e=this;e.queryForm.permissionName="",e.queryForm.permissionAPI="",e.handleQueryFormQuery()},handleButtonGroupAdd:function(){this.drawer.isShow=!0,this.drawer.title="新增权限",this.dialogForm.id="",this.dialogForm.permissionName="",this.dialogForm.permissionAPI=""},handleButtonGroupDelete:function(){var e=this;e.$confirm("确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(a["b"])(e.multipleSelection).then((function(t){2e4==t.code?(e.$message({type:"success",message:t.msg}),e.handleQueryFormQuery()):e.$message.error(t.msg)})).catch((function(e){console.log(e)}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},handleTableSelectionChange:function(e){this.multipleSelection=e},handleTableEdit:function(e,t){this.drawer.title="编辑权限",this.drawer.isShow=!0,this.dialogForm.id=t["id"],this.dialogForm.permissionName=t["permissionName"],this.dialogForm.permissionAPI=t["permissionAPI"]},handleTableDelete:function(e,t){var i=this;i.$confirm("确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(a["b"])([t]).then((function(e){2e4==e.code?(i.$message({type:"success",message:e.msg}),i.handleQueryFormQuery()):i.$message.error(e.msg)})).catch((function(e){console.log(e)}))})).catch((function(){i.$message({type:"info",message:"已取消删除"})}))},handlePaginationSizeChange:function(e){var t=this;t.pagination.pageSize=e,t.handleQueryFormQuery()},handlePaginationCurrentChange:function(e){var t=this;t.pagination.currentPage=e,t.handleQueryFormQuery()},handleDrawerClose:function(e){e()},handleDialogFormCancel:function(){this.drawer.isShow=!1,this.drawer.title=""},handleDialogFormSave:function(){var e=this;"新增权限"==e.drawer.title&&Object(a["a"])(e.dialogForm).then((function(t){2e4==t.code&&e.$notify.info({title:"提示",message:t.msg}),e.drawer.isShow=!1})).catch((function(e){console.log(e)})),"编辑权限"==e.drawer.title&&Object(a["d"])(e.dialogForm).then((function(t){2e4==t.code&&e.$notify.info({title:"提示",message:t.msg}),e.drawer.isShow=!1})).catch((function(e){console.log(e)})),e.handleQueryFormQuery()}},created:function(){var e=this;e.handleQueryFormQuery()}},l=r,s=i("2877"),c=Object(s["a"])(l,n,o,!1,null,null,null);t["default"]=c.exports}}]);